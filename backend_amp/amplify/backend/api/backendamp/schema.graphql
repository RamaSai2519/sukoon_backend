# This "input" configures a global authorization rule to enable public access to
# all models in this schema. Learn more about authorization rules here: https://docs.amplify.aws/cli/graphql/authorization-rules
input AMPLIFY { globalAuthRule: AuthRule = { allow: public } } # FOR TESTING ONLY!


type User @model {
  id: ID!
  firstName: String
  lastName: String
  gender: Gender
  isDeleted: Boolean
  dateOfBirth: AWSDate
  mobileNumber: String
  userNotifications: [UserNotification] @connection(keyName: "userNotificationsByUserIdx", fields: ["id"])
}

enum Gender{
  MALE
  FEMALE
}


type UserNotification @model
@key(name: "userNotificationsByUserIdx", fields: ["userId"], queryField: "userNotificationsByUserId") {
  id: ID!
  userId: ID
  requestMeta: AWSJSON
  externalMessageId: String
  status: NotificationStatus
  notificationType: NotificationType
  notificationJobType: NotificationJobType

}

enum NotificationType {
  SMS
  WHATSAPP
  PUSH
  EMAIL
}

enum NotificationJobType {
  SMS
  WHATSAPP
  PUSH
  EMAIL
}

enum NotificationStatus {
  SUCCESS
  FAILURE
}

