type User @model @auth(rules: [{ allow: public }]) {
  id: ID!
  firstName: String
  lastName: String
  gender: Gender
  isDeleted: Boolean
  dateOfBirth: AWSDate
  mobileNumber: String
  userNotifications: [UserNotification] @hasMany(indexName: "userNotificationsByUserIdx", fields: ["id"])
}

enum Gender {
  MALE
  FEMALE
}

type UserNotification @model @auth(rules: [{ allow: public }]) 
{
  id: ID!
  userId: ID! @index(name: "userNotificationsByUserIdx", queryField: "userNotificationsByUserId") 
  requestMeta: String
  externalMessageId: String
  status: NotificationStatus
  notificationType: NotificationType
  notificationJobType: NotificationJobType
}

enum NotificationType {
  SMS
  WHATSAPP
  PUSH
  EMAIL
}

enum NotificationJobType {
  SMS
  WHATSAPP
  PUSH
  EMAIL
}

enum NotificationStatus {
  SUCCESS
  FAILURE
}

type ScheduledJobs @model @auth(rules: [{ allow: public }]) 
{
  id: ID!
  scheduledJobType: ScheduledJobType
  scheduledJobTime: AWSDateTime
  scheduledJobStatus: ScheduledJobStatus @index(name: "scheduledJobsByStatusAndTimeIdx", sortKeyFields: ["scheduledJobTime"]   queryField: "scheduledJobsByStatusAndTime") 
  request_meta: String 
}

enum ScheduledJobType {
  CALL
  NOTIFICATION
}

enum ScheduledJobStatus {
  PENDING 
  PICKED
  FAILED
  COMPLETED
}
